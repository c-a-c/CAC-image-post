# CAC-image-post（仮）

## 要件定義書
```
作成者: 朝倉滉人
作成日: 2025年2月2日　更新日: 2025年2月2日
```

- [システム化の概要と目的](#システム化の概要と目的)
- [機能要件](#機能要件)
    - [外部機能](#外部機能)
    - [内部機能](#内部機能)
- [非機能要件](#非機能要件)
    - [利用範囲](#利用範囲)
    - [可用性](#可用性)
    - [性能](#性能)
    - [拡張性](#拡張性)
    - [移行・引き継ぎ](#移行引き継ぎ)
    - [補足](#補足)


### システム化の概要と目的

部活内で使用する画像投稿サイトです。部員（G班）の作成したイラストを常日頃discordなどの連絡用ツールなどに投げているため、一括管理及び閲覧ができるwebサイトが欲しいのが目的です。

### 機能要件

#### 外部機能

- ログインページ
    - 大学用のメールアドレスと自身が設定したパスワードを使って、部員のみがログインして画像投稿でき、部外の人はログインできないようにします。

- TOPページ
    - 全ユーザが投稿したイラストを一括取得して画面に一覧表示されます。このときの表示順序は時系列順、タグ順、ユーザ名順でソートができるようにします。

- マイページ
    - 各ユーザが投稿したイラストだけを管理する画面です。ここでユーザが投稿したイラストを削除、編集できるようにします。
    - 最初このページに入るにはログインが必要です。ログインをするには大学用のメールアドレスとパスワードが必要になります。
    - 大学生であっても、部員のみがログインして画像投稿でき、部外の人はログインできないようにします。

- 投稿ページ
    - イラストを投稿する画面です。ここでイラストと以下の情報も添付してデータベースに保存します。
        - イラスト単体
        - イラスト名
        - ユーザid
        - キャプション
        - 年齢制限
        - タグ（複数）
        - タイムスタンプ（xxxx年xx月xx日）
    - 他ユーザがイラストに対してできることは以下のことです。
        - いいね
        - コメント

- イベントページ
    - 随時行われるイラスト交流会などのイベント用のページです。イベントが行われる際にアップデートしていく必要があります。

#### 内部機能

- いいね・コメント機能
    - 他ユーザの投稿したイラストに対していいね・コメントをすることができます。両方ともにログインする必要があり、ログインしていない場合だといいねやコメントがすることができません。

- データベースとの対応
    - 投稿したイラストはデータベースに保存されます（今回は Firebaseを使用）。

- 表示されるイラスト
    - TOPページ
        - データベース内にある全イラストを取得するのでなく、ランダムに一部のイラストを取得して表示します。
        - 検索欄からタグで検索できるようにします。
        - 検索欄から名前で検索できるようにします。
        - 検索欄からユーザ名で検索できるようにします。
    - マイページ
        - 自身のユーザidを元に検索をかけてヒットしたイラストのみをデータベースから取得を行い表示します。ログインを事前にする必要があります。

- バリデーションルールとの対応
    - 

### 非機能要件

#### 利用範囲

- 部員約100名が閲覧および投稿できることを想定しています。
- 部員以外でも外部のユーザ100名が閲覧のみできるように想定しています。

#### 可用性

- 基本要件
    - 24時間365日の稼働を目標とします。
- 補足
    - ただし、以下の場合の停止は認めます。
        - メンテナンスのための停止。

#### 性能

- 投稿頻度
    - 各ユーザーが1日に1回投稿すると仮定すると、1日に50件の投稿が発生します。
- 閲覧頻度
    - 各ユーザーが1日に10回閲覧すると仮定すると、1日に500回の閲覧が発生します。
- ストレージ容量
    - 画像の平均サイズを1MBと仮定すると、1日に50MBのストレージが必要です。月間では約1.5GBとなります。
    - Firebaseの無料プランでは、1GBのストレージが提供されますが、追加のストレージが必要になる可能性があります。


#### 拡張性

- 今は特に考えていません。

#### 移行・引き継ぎ

- webサイトの運用ができるように仕様書を残します。
- イベントページは定期的に作成をして継続しなければなりません。
- ステージング環境は用意せず、ローカルで動作確認後、本番環境へ反映させる方針でいきます。

#### 補足

- 対応ブラウザ
    - PC：Google Chrome（最新版）
    - スマホ：Google Chrome（最新版）、Safari（最新版）
- 利用を前提とするサービス
    - Firebase（イラストの保管）
    - Googleスプレッドシート（もしかしたら使用する）
    - クラウドサービス（月額10万円以上の投資をすることを想定していません。）
- OSSや無償サービスの利用を推進しますが、各種権利やライセンスに反しないよう重々留意することです。

